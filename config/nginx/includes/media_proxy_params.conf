# /etc/nginx/includes/media_proxy_params.conf
# ENHANCED - Media-Specific Proxy Parameters with maps integration

# Include base proxy settings
include /etc/nginx/includes/proxy_params.conf;

#=================================
# MEDIA-SPECIFIC OVERRIDES
#=================================

# Disable buffering for media streaming (override base config)
# proxy_buffering off;  # Already defined in proxy_params.conf
# proxy_request_buffering off;  # Already defined in proxy_params.conf

# Extended timeouts for large media files
# proxy_connect_timeout 60s;  # Already defined in proxy_params.conf
# proxy_send_timeout 600s;  # Already defined in proxy_params.conf  
# proxy_read_timeout 600s;  # Already defined in proxy_params.conf

# Range request support for video seeking
proxy_set_header Range $http_range;
proxy_set_header If-Range $http_if_range;
proxy_force_ranges on;

# Media server specific headers
proxy_set_header X-Forwarded-Ssl on;
proxy_set_header X-Plex-Client-Identifier $http_x_plex_client_identifier;

# Emby/Jellyfin specific headers
proxy_set_header X-Emby-Token $http_x_emby_token;
proxy_set_header X-MediaBrowser-Token $http_x_mediabrowser_token;

# Large file support
client_max_body_size 0;

# ================================================================