# /etc/nginx/includes/rate_limiting.conf
# SIMPLIFIED - Service-Aware Rate Limiting for Tailscale

# Apply standard rate limiting
limit_req zone=api burst=20 nodelay;

# Connection limiting (using predefined zone)
limit_conn addr 10;



# Rate limiting zones that need to be defined in nginx.conf or main context:
#
# http {
#     limit_req_zone $binary_remote_addr zone=dashboard:10m rate=50r/s;
#     limit_req_zone $binary_remote_addr zone=media:10m rate=30r/s;
#     limit_req_zone $binary_remote_addr zone=ai:10m rate=20r/s;
#     limit_req_zone $binary_remote_addr zone=admin:10m rate=15r/s;
#     limit_req_zone $binary_remote_addr zone=system:10m rate=15r/s;
#     limit_req_zone $binary_remote_addr zone=general:10m rate=25r/s;
# }

# ================================================================